# v1.2.0 发布检查清单

## ✅ 完成的工作

### 版本配置
- [x] 更新 `package.json` 版本为 1.2.0
- [x] 创建 git tag: `v1.2.0`
- [x] 推送标签到 GitHub

### 工作流修复
- [x] 优化 `.github/workflows/build.yml`
  - [x] 分离构建和发布步骤
  - [x] 使用 `softprops/action-gh-release` 上传资产
  - [x] 为 macOS 和 Windows 分别配置
  - [x] 添加调试信息
- [x] 补全 `electron-builder.json5` 发布配置
  - [x] 添加 provider: github
  - [x] 指定 owner 和 repo

### 文档
- [x] `CHANGELOG_v1.2.0.md` - 发布说明
- [x] `RELEASE_GUIDE.md` - 发布指南
- [x] `GITHUB_ACTIONS_DEBUG.md` - 调试指南
- [x] `RELEASE_FIX_NOTES.md` - 修复说明

## 📊 当前状态

### 版本信息
```
Package Version: 1.2.0
Git Tag: v1.2.0
Tag 指向提交: 93840f2
```

### 工作流预期
当 GitHub Actions 运行时应该会：
1. ✅ macOS 构建 → ENO-M-Mac-1.2.0-Installer.dmg
2. ✅ Windows 构建 → ENO-M-Windows-1.2.0-Setup.exe
3. ✅ 自动上传到 Release Assets

## 🔍 验证方法

### 方式 1：GitHub 页面检查
1. 进入 https://github.com/cloudflypeng/eno-m-desktop
2. 点击 Releases 标签
3. 应该看到 v1.2.0 版本
4. Assets 中应该有 .dmg 和 .exe 文件

### 方式 2：Actions 日志检查
1. 进入 GitHub Actions 标签页
2. 找到 "Build & Release" 工作流
3. 查看最新的运行结果
4. 检查是否有上传资产的步骤成功

## 📝 下次发布流程

```bash
# 1. 更新版本（假设下一个版本是 1.2.1）
sed -i '' 's/"version": "1.2.0"/"version": "1.2.1"/' package.json

# 2. 提交
git commit -am "chore: version bump 1.2.1"

# 3. 创建标签
git tag -a v1.2.1 -m "Release v1.2.1"

# 4. 推送
git push origin main
git push origin v1.2.1

# 完毕！工作流会自动处理
```

## ⚠️ 常见问题

### Q: 资产为什么还没有出现？
A: GitHub Actions 需要时间运行（通常 5-15 分钟）
- 查看 Actions 标签页监看进度
- 检查是否有构建错误

### Q: Release 页面看不到更新？
A: 可能需要刷新页面或稍等片刻
- 清除浏览器缓存
- 使用隐私模式浏览测试

### Q: 工作流失败怎么办？
A: 查看 GITHUB_ACTIONS_DEBUG.md 中的故障排查部分
- 检查 GH_TOKEN 权限
- 查看具体的错误日志

## 📞 相关文档

| 文档 | 用途 |
|------|------|
| CHANGELOG_v1.2.0.md | 功能说明和发布说明 |
| RELEASE_GUIDE.md | 如何执行发布 |
| GITHUB_ACTIONS_DEBUG.md | 工作流故障排查 |
| RELEASE_FIX_NOTES.md | 本次修复的详细说明 |
| CONCURRENT_DOWNLOAD_OPTIMIZATION.md | 并发下载技术细节 |

## ✨ 总结

v1.2.0 现已准备就绪：
- ✅ 代码已推送
- ✅ 标签已创建
- ✅ 工作流已修复
- ✅ 文档已完善

GitHub Actions 应该会在接下来的几分钟内自动构建并发布 .dmg 和 .exe 文件到 Release Assets！
